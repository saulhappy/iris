(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{44:function(e,t,a){e.exports=a.p+"static/media/rainbowHand.cc22aa25.jpg"},45:function(e,t,a){e.exports=a.p+"static/media/spinner.6192e41a.gif"},49:function(e,t,a){e.exports=a(82)},54:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),o=a.n(l),c=a(1),s=a(17),i=(a(54),a(2)),u=a(3),m=a.n(u),p=a(7),f=a(6),E=a.n(f),d=a(42),h=a.n(d),v=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(n){var r=h.a.v4();n({type:"SET_ALERT",payload:{msg:e,alertType:t,id:r}}),setTimeout((function(){return n({type:"REMOVE_ALERT",payload:r})}),a)}},b=function(e){e?E.a.defaults.headers.common["x-auth-token"]=e:delete E.a.defaults.headers.common["x-auth-token"]},g=function(){return function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&b(localStorage.token),e.prev=1,e.next=4,E.a.get("/api/auth");case 4:a=e.sent,t({type:"USER_LOADED",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"AUTH_ERROR"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},y=Object(i.b)((function(e){return{auth:e.auth}}),{logout:function(){return function(e){e({type:"CLEAR_PROFILE"}),e({type:"LOGOUT"})}}})((function(e){var t=e.auth,a=t.isAuthenticated,l=t.loading,o=e.logout,s=r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(c.b,{to:"/profiles"},r.a.createElement("i",{className:"fas fa-people-carry"})," ",r.a.createElement("span",{className:"hide-sm"},"People Helping"))),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/posts"},r.a.createElement("i",{className:"far fa-comments"})," ",r.a.createElement("span",{className:"hide-sm"},"Posts"))),r.a.createElement("li",null,r.a.createElement("a",{onClick:o,href:"#!"},r.a.createElement("i",{className:"fas fa-sign-out-alt"})," ",r.a.createElement("span",{className:"hide-sm"},"Logout"))),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/about"},r.a.createElement("i",{className:"fas fa-info"})," ",r.a.createElement("span",{className:"hide-sm"}," About")))),i=r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(c.b,{to:"/profiles"},r.a.createElement("i",{className:"fas fa-people-carry"})," ",r.a.createElement("span",{className:"hide-sm"},"People Helping"))),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/register"},r.a.createElement("i",{className:"fas fa-user-plus"})," ",r.a.createElement("span",{className:"hide-sm"}," Register"))),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/login"},r.a.createElement("i",{className:"fas fa-sign-in-alt"})," ",r.a.createElement("span",{className:"hide-sm"}," Login"))),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/about"},r.a.createElement("i",{className:"fas fa-info"})," ",r.a.createElement("span",{className:"hide-sm"}," About"))));return r.a.createElement("nav",{className:"navbar bg-dark"},r.a.createElement("h1",null,r.a.createElement(c.b,{to:"/"},r.a.createElement("i",{className:"fas fa-rainbow"})," Iris")),!l&&r.a.createElement(n.Fragment,null,a?s:i))})),N=Object(i.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}))((function(e){return e.isAuthenticated?r.a.createElement(s.a,{to:"/home"}):r.a.createElement("section",{className:"landing"},r.a.createElement("div",{className:"dark-overlay"},r.a.createElement("div",{className:"landing-inner"},r.a.createElement("h1",{className:"x-large"},"Welcome to Iris"),r.a.createElement("p",{className:"lead"},"Create a profile. Have discussions. Get help from your neighbors during a crisis."),r.a.createElement("div",{className:"buttons"},r.a.createElement(c.b,{to:"/register",className:"btn btn-primary"},"Sign Up"),r.a.createElement(c.b,{to:"/login",className:"btn btn-light"},"Login")))))})),O=a(14),x=a(4),k=a(8),w=a(13),R=a.n(w),C=function(e){var t=e.setAlert,a=e.register,l=e.isAuthenticated,o=Object(n.useState)({firstName:"",lastName:"",email:"",password:"",passwordVerify:""}),i=Object(k.a)(o,2),u=i[0],m=i[1],p=u.firstName,f=u.lastName,E=u.email,d=u.password,h=u.passwordVerify,v=function(e){return m(Object(x.a)({},u,Object(O.a)({},e.target.name,e.target.value)))};return l?r.a.createElement(s.a,{to:"/home"}):r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"large text-primary"},"Sign Up"),r.a.createElement("p",{className:"lead"},r.a.createElement("i",{className:"fas fa-user"})," Create Your Account"),r.a.createElement("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault(),d!==h?t("Error: passwords do not match. Please try again.","danger"):a({firstName:p,lastName:f,email:E,password:d})}(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"First Name",name:"firstName",value:p,onChange:function(e){return v(e)},required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"Last Name",name:"lastName",value:f,onChange:function(e){return v(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",placeholder:"Email",name:"email",value:E,onChange:function(e){return v(e)}}),r.a.createElement("small",{className:"form-text"},"This site uses Gravatar for profile pictures. Please visit"," ",r.a.createElement("a",{href:"https://en.gravatar.com/",target:"_blank",rel:"noopener noreferrer"},"gravatar.com")," ","for more information.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",value:d,onChange:function(e){return v(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",placeholder:"Confirm Password",name:"passwordVerify",value:h,onChange:function(e){return v(e)}})),r.a.createElement("input",{type:"submit",className:"btn btn-primary",value:"Register"})),r.a.createElement("p",{className:"my-1"},"Already have an account? ",r.a.createElement(c.b,{to:"/login"},"Sign In")))};C.protoTypes={setAlert:R.a.func.isRequired,register:R.a.func.isRequired,isAuthenticated:R.a.bool};var A=Object(i.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{setAlert:v,register:function(e){var t=e.firstName,a=e.lastName,n=e.email,r=e.fullAddress,l=e.password;return function(){var e=Object(p.a)(m.a.mark((function e(o){var c,s,i,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={headers:{"Content-Type":"application/json"}},s=JSON.stringify({firstName:t,lastName:a,email:n,fullAddress:r,password:l}),e.prev=2,e.next=5,E.a.post("/api/users",s,c);case 5:i=e.sent,o({type:"REGISTER_SUCCESS",payload:i.data}),o(g()),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),(u=e.t0.response.data.errors)&&u.forEach((function(e){return o(v(e.msg,"danger"))})),o({type:"REGISTER_FAIL"});case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()}})(C),S=Object(i.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:function(e,t){return function(){var a=Object(p.a)(m.a.mark((function a(n){var r,l,o,c;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{"Content-Type":"application/json"}},l=JSON.stringify({email:e,password:t}),a.prev=2,a.next=5,E.a.post("/api/auth",l,r);case 5:o=a.sent,n({type:"LOGIN_SUCCESS",payload:o.data}),n(g()),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(2),(c=a.t0.response.data.errors)&&c.forEach((function(e){return n(v(e.msg,"danger"))})),n({type:"LOGIN_FAIL"});case 15:case"end":return a.stop()}}),a,null,[[2,10]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.login,a=e.isAuthenticated,l=Object(n.useState)({email:"",password:""}),o=Object(k.a)(l,2),i=o[0],u=o[1],m=i.email,p=i.password,f=function(e){return u(Object(x.a)({},i,Object(O.a)({},e.target.name,e.target.value)))};return a?r.a.createElement(s.a,{to:"/home"}):r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"large text-primary"},"Sign In"),r.a.createElement("p",{className:"lead"},r.a.createElement("i",{className:"fas fa-user"})," Sign Into Your Account"),r.a.createElement("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault(),t(m,p)}(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",placeholder:"Email",name:"email",value:m,onChange:function(e){return f(e)},required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",value:p,onChange:function(e){return f(e)},minLength:"3"})),r.a.createElement("input",{type:"submit",className:"btn btn-primary",value:"Sign In"})),r.a.createElement("p",{className:"my-1"},"Don't have an account? ",r.a.createElement(c.b,{to:"/register"},"Sign Up")))})),T=Object(i.b)((function(e){return{alerts:e.alert}}))((function(e){var t=e.alerts;return null!==t&&t.length>0&&t.map((function(e){return r.a.createElement("div",{key:e.id,className:"alert alert-".concat(e.alertType)},e.msg)}))})),P=a(44),j=a.n(P);function I(){return r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"large text-primary"},"Welcome to Iris"),r.a.createElement("p",{className:"lead"}," We're a community of helpers"),r.a.createElement("div",null,r.a.createElement("p",null,"According to ancient Greek Mythology as described in Hesiod's Theogony, Iris is the daughter of Thaumas and the Oceanid Electra, and the sister of the Harpies: Aello and Ocypete. During the Titan Battles, Iris was the messenger of the Olympian Gods."),r.a.createElement("br",null),r.a.createElement("p",null,"Though Iris was principally associated with communication and messages, she was also believed to aid in the fulfillment of humans' prayers, either by fulfilling them herself or by bringing them to the attention of other deities. She is also said to travel on the rainbow while carrying messages from the gods to mortals."),r.a.createElement("br",null),r.a.createElement("p",null,"In light of the Covid-19 pandemic, when I first thought of this site, I thought the world needed more of this. I believe the world could always use more of this. You can be a messenger of good for someone else in need."),r.a.createElement("br",null),r.a.createElement("p",null," ",r.a.createElement("h4",null,"Saul Feliz")),r.a.createElement("a",{href:"https://www.linkedin.com/in/saul-feliz/"},"LinkedIn"),r.a.createElement("br",null),r.a.createElement("a",{href:"https://github.com/saulhappy"},"GitHub"),r.a.createElement("br",null),r.a.createElement("a",{href:"https://saulfeliz.com/"},"Portfolio"),r.a.createElement("img",{src:j.a,style:{width:"600px",margin:"auto",display:"block"},alt:""}),r.a.createElement("br",null),r.a.createElement("h4",null,"P.S. Some upcoming features I intend to work on include:"),r.a.createElement("li",null,"Password reminder"),r.a.createElement("li",null,"Profile photo upload. Currently profile pictures are displayed through Gravatar. Please visit"," ",r.a.createElement("a",{href:"https://en.gravatar.com/",target:"_blank",rel:"noopener noreferrer"},"gravatar.com")," ","for more information."),r.a.createElement("li",null,"Notifications of comments on user posts"),r.a.createElement("li",null,"...other features users want. Feel free to contact me at 646634@gmail.com for requests!")))}var _=a(45),L=a.n(_),D=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("img",{src:L.a,style:{width:"200px",margin:"auto",display:"block"},alt:"Loading..."}))},F=Object(i.b)((function(e){return{auth:e.auth}}),{})((function(e){var t=e.auth;return r.a.createElement("div",{className:"dash-buttons"},r.a.createElement(c.b,{to:"/profile/".concat(t.user._id),className:"btn btn-light"},r.a.createElement("i",{className:"fas fa-user text-primary"})," View My Profile"),r.a.createElement(c.b,{to:"/edit-profile",className:"btn btn-light"},r.a.createElement("i",{className:"fas fa-user-edit text-primary"})," Edit My Profile"),r.a.createElement(c.b,{to:"/my-posts",className:"btn btn-light"},r.a.createElement("i",{className:"fas fa-comments text-primary"})," View My Posts"))})),M=function(){return function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/profile/me");case 3:a=e.sent,t({type:"GET_PROFILE",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"PROFILE_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},W=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var n=Object(p.a)(m.a.mark((function n(r){var l,o,c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,l={headers:{"Content-Type":"application/json"}},n.next=4,E.a.post("/api/profile",e,l);case 4:o=n.sent,r({type:"GET_PROFILE",payload:o.data}),r(v(a?"Profile Updated!":"Profile Created!","success")),a||t.push("/home"),n.next=15;break;case 10:n.prev=10,n.t0=n.catch(0),(c=n.t0.response.data.errors)&&c.forEach((function(e){return r(v(e.msg,"danger"))})),r({type:"PROFILE_ERROR",payload:{msg:n.t0.response.statusText,status:n.t0.response.status}});case 15:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},Y=Object(i.b)((function(e){return{auth:e.auth,profile:e.profile}}),{getCurrentProfile:M,deleteAccount:function(){return function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure? Your entire account will be deleted. This CAN NOT be undone.")){e.next=13;break}return e.prev=1,e.next=4,E.a.delete("/api/profile");case 4:e.sent,t({type:"CLEAR_PROFILE"}),t({type:"ACCOUNT_DELETED"}),t(v("Sorry to see you go. Your account has been permanently deleted.")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t({type:"PROFILE_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.err.response.statusText}});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.getCurrentProfile,a=e.deleteAccount,l=e.auth.user,o=e.profile,s=o.profile,i=o.loading;return Object(n.useEffect)((function(){t()}),[t]),i&&null===s?r.a.createElement(D,null):r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"large text-primary"},"Welcome home, ",l&&l.firstName),r.a.createElement("p",{className:"lead"},"Click below to view and update your information"),null!==s?r.a.createElement(n.Fragment,null,r.a.createElement(F,null)):r.a.createElement(n.Fragment,null,r.a.createElement("p",null,"You have not set up a profile."),r.a.createElement(c.b,{to:"/create-profile",className:"btn btn-primary my-1"},"Create Profile")),r.a.createElement("div",{className:"my-2"},r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return a()}},r.a.createElement("i",{className:"fas fa-user-minus"})," Delete My Account")))})),U=Object(i.b)(null,{createProfile:W})(Object(s.g)((function(e){var t=e.createProfile,a=e.history,l=Object(n.useState)({email:"",city:"",state:"",zip:"",about:"",openForRequests:"",helpWith:"",personalSite:"",youtube:"",twitter:"",instagram:"",linkedin:"",facebook:""}),o=Object(k.a)(l,2),s=o[0],i=o[1],u=Object(n.useState)(!1),m=Object(k.a)(u,2),p=m[0],f=m[1],E=s.email,d=s.city,h=s.state,v=s.zip,b=s.about,g=s.openForRequests,y=s.helpWith,N=s.personalSite,w=s.youtube,R=s.twitter,C=s.instagram,A=s.linkedin,S=s.facebook,T=function(e){return i(Object(x.a)({},s,Object(O.a)({},e.target.name,e.target.value)))};return r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"large text-primary"},"Create Your Profile"),r.a.createElement("p",{className:"lead"},r.a.createElement("i",{className:"fas fa-user"})," Tell us about yourself and how you'd like to help others"),r.a.createElement("small",null,"* = required field"),r.a.createElement("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault(),t(s,a)}(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"* Email address others can reach you at...",name:"email",value:E,onChange:function(e){return T(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"* City",name:"city",value:d,onChange:function(e){return T(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{name:"state",value:h,onChange:function(e){return T(e)}},r.a.createElement("option",{value:"0"},"* Select State"),r.a.createElement("option",{value:"AL"},"AL"),r.a.createElement("option",{value:"AK"},"AK"),r.a.createElement("option",{value:"AR"},"AR"),r.a.createElement("option",{value:"AZ"},"AZ"),r.a.createElement("option",{value:"CA"},"CA"),r.a.createElement("option",{value:"CO"},"CO"),r.a.createElement("option",{value:"CT"},"CT"),r.a.createElement("option",{value:"DC"},"DC"),r.a.createElement("option",{value:"DE"},"DE"),r.a.createElement("option",{value:"FL"},"FL"),r.a.createElement("option",{value:"GA"},"GA"),r.a.createElement("option",{value:"HI"},"HI"),r.a.createElement("option",{value:"IA"},"IA"),r.a.createElement("option",{value:"ID"},"ID"),r.a.createElement("option",{value:"IL"},"IL"),r.a.createElement("option",{value:"IN"},"IN"),r.a.createElement("option",{value:"KS"},"KS"),r.a.createElement("option",{value:"KY"},"KY"),r.a.createElement("option",{value:"LA"},"LA"),r.a.createElement("option",{value:"MA"},"MA"),r.a.createElement("option",{value:"MD"},"MD"),r.a.createElement("option",{value:"ME"},"ME"),r.a.createElement("option",{value:"MI"},"MI"),r.a.createElement("option",{value:"MN"},"MN"),r.a.createElement("option",{value:"MO"},"MO"),r.a.createElement("option",{value:"MS"},"MS"),r.a.createElement("option",{value:"MT"},"MT"),r.a.createElement("option",{value:"NC"},"NC"),r.a.createElement("option",{value:"NE"},"NE"),r.a.createElement("option",{value:"NH"},"NH"),r.a.createElement("option",{value:"NJ"},"NJ"),r.a.createElement("option",{value:"NM"},"NM"),r.a.createElement("option",{value:"NV"},"NV"),r.a.createElement("option",{value:"NY"},"NY"),r.a.createElement("option",{value:"ND"},"ND"),r.a.createElement("option",{value:"OH"},"OH"),r.a.createElement("option",{value:"OK"},"OK"),r.a.createElement("option",{value:"OR"},"OR"),r.a.createElement("option",{value:"PA"},"PA"),r.a.createElement("option",{value:"RI"},"RI"),r.a.createElement("option",{value:"SC"},"SC"),r.a.createElement("option",{value:"SD"},"SD"),r.a.createElement("option",{value:"TN"},"TN"),r.a.createElement("option",{value:"TX"},"TX"),r.a.createElement("option",{value:"UT"},"UT"),r.a.createElement("option",{value:"VT"},"VT"),r.a.createElement("option",{value:"VA"},"VA"),r.a.createElement("option",{value:"WA"},"WA"),r.a.createElement("option",{value:"WI"},"WI"),r.a.createElement("option",{value:"WV"},"WV"),r.a.createElement("option",{value:"WY"},"WY"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"* Zip Code",name:"zip",value:v,onChange:function(e){return T(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{placeholder:"* Tell us a bit about yourself",name:"about",value:b,onChange:function(e){return T(e)}}),r.a.createElement("small",{className:"form-text"},"Your neighborhood, what you do for a living, favorite beer, etc...")),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{name:"openForRequests",value:g,onChange:function(e){return T(e)}},r.a.createElement("option",{value:"0"},"* Are you currently open for requests?"),r.a.createElement("option",{value:"true"},"Yes"),r.a.createElement("option",{value:"false"},"No")),r.a.createElement("small",{className:"form-text"},'By selecting "No" your account will still be active, but won\'t be found by others looking for help.')),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"I can help with...",name:"helpWith",value:y,onChange:function(e){return T(e)}}),r.a.createElement("small",{className:"form-text"},"Please seperate with commas (eg. grocery shopping, lawn work, repairs, masks)")),r.a.createElement("div",{className:"my-2"},r.a.createElement("button",{onClick:function(){return f(!p)},type:"button",className:"btn btn-light"},"Add Personal Website And Social Network Links"),r.a.createElement("span",null,"Optional")),p&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fas fa-globe fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"Personal Website",name:"personalSite",value:N,onChange:function(e){return T(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-twitter fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"Twitter URL",name:"twitter",value:R,onChange:function(e){return T(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-facebook fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"Facebook URL",name:"facebook",value:S,onChange:function(e){return T(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-youtube fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"YouTube URL",name:"youtube",value:w,onChange:function(e){return T(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-linkedin fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"Linkedin URL",name:"linkedin",value:A,onChange:function(e){return T(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-instagram fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"Instagram URL",name:"instagram",value:C,onChange:function(e){return T(e)}}))),r.a.createElement("input",{type:"submit",className:"btn btn-primary my-1"}),r.a.createElement(c.b,{className:"btn btn-light my-1",to:"/home"},"Go Back")))}))),G=Object(i.b)((function(e){return{profile:e.profile,auth:e.auth}}),{createProfile:W,getCurrentProfile:M})(Object(s.g)((function(e){var t=e.profile,a=t.profile,l=t.loading,o=e.auth.user,s=e.createProfile,i=e.getCurrentProfile,u=e.history,m=Object(n.useState)({email:"",city:"",state:"",zip:"",about:"",openForRequests:"",helpWith:"",personalSite:"",youtube:"",twitter:"",instagram:"",linkedin:"",facebook:""}),p=Object(k.a)(m,2),f=p[0],E=p[1],d=Object(n.useState)(!1),h=Object(k.a)(d,2),v=h[0],b=h[1];Object(n.useEffect)((function(){i(),E({email:l||!o.email?"":o.email,city:l||!a.city?"":a.city,state:l||!a.state?"":a.state,zip:l||!a.zip?"":a.zip,about:l||!a.about?"":a.about,openForRequests:l||!a.openForRequests?"":a.openForRequests,helpWith:l||!a.helpWith?"":a.helpWith.join(","),personalSite:l||!a.social?"":a.social.personalSite,youtube:l||!a.social?"":a.social.youtube,twitter:l||!a.social?"":a.social.twitter,instagram:l||!a.social?"":a.social.instagram,linkedin:l||!a.social?"":a.social.linkedin,facebook:l||!a.social?"":a.social.facebook})}),[l,i]);var g=f.email,y=f.city,N=f.state,w=f.zip,R=f.about,C=f.openForRequests,A=f.helpWith,S=f.youtube,T=f.personalSite,P=f.twitter,j=f.instagram,I=f.linkedin,_=f.facebook,L=function(e){return E(Object(x.a)({},f,Object(O.a)({},e.target.name,e.target.value)))};return r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"large text-primary"},"Edit Your Profile"),r.a.createElement("p",{className:"lead"},r.a.createElement("i",{className:"fas fa-user"})," Tell us about yourself and how you'd like to help others"),r.a.createElement("div",null,r.a.createElement("small",{style:{color:"#98669d"}},"Please note: profile pictures are currently only displayed through Gravatar. Please visit"," ",r.a.createElement("a",{href:"https://en.gravatar.com/",target:"_blank",rel:"noopener noreferrer"},"gravatar.com")," ","for more information.")),r.a.createElement("br",null),r.a.createElement("small",null,"* denotes required field"),r.a.createElement("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault(),s(f,u,!0)}(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"* Email address others can reach you at...",name:"email",value:g,onChange:function(e){return L(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"* City",name:"city",value:y,onChange:function(e){return L(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{name:"state",value:N,onChange:function(e){return L(e)}},r.a.createElement("option",{value:"0"},"* Select State"),r.a.createElement("option",{value:"AL"},"AL"),r.a.createElement("option",{value:"AK"},"AK"),r.a.createElement("option",{value:"AR"},"AR"),r.a.createElement("option",{value:"AZ"},"AZ"),r.a.createElement("option",{value:"CA"},"CA"),r.a.createElement("option",{value:"CO"},"CO"),r.a.createElement("option",{value:"CT"},"CT"),r.a.createElement("option",{value:"DC"},"DC"),r.a.createElement("option",{value:"DE"},"DE"),r.a.createElement("option",{value:"FL"},"FL"),r.a.createElement("option",{value:"GA"},"GA"),r.a.createElement("option",{value:"HI"},"HI"),r.a.createElement("option",{value:"IA"},"IA"),r.a.createElement("option",{value:"ID"},"ID"),r.a.createElement("option",{value:"IL"},"IL"),r.a.createElement("option",{value:"IN"},"IN"),r.a.createElement("option",{value:"KS"},"KS"),r.a.createElement("option",{value:"KY"},"KY"),r.a.createElement("option",{value:"LA"},"LA"),r.a.createElement("option",{value:"MA"},"MA"),r.a.createElement("option",{value:"MD"},"MD"),r.a.createElement("option",{value:"ME"},"ME"),r.a.createElement("option",{value:"MI"},"MI"),r.a.createElement("option",{value:"MN"},"MN"),r.a.createElement("option",{value:"MO"},"MO"),r.a.createElement("option",{value:"MS"},"MS"),r.a.createElement("option",{value:"MT"},"MT"),r.a.createElement("option",{value:"NC"},"NC"),r.a.createElement("option",{value:"NE"},"NE"),r.a.createElement("option",{value:"NH"},"NH"),r.a.createElement("option",{value:"NJ"},"NJ"),r.a.createElement("option",{value:"NM"},"NM"),r.a.createElement("option",{value:"NV"},"NV"),r.a.createElement("option",{value:"NY"},"NY"),r.a.createElement("option",{value:"ND"},"ND"),r.a.createElement("option",{value:"OH"},"OH"),r.a.createElement("option",{value:"OK"},"OK"),r.a.createElement("option",{value:"OR"},"OR"),r.a.createElement("option",{value:"PA"},"PA"),r.a.createElement("option",{value:"RI"},"RI"),r.a.createElement("option",{value:"SC"},"SC"),r.a.createElement("option",{value:"SD"},"SD"),r.a.createElement("option",{value:"TN"},"TN"),r.a.createElement("option",{value:"TX"},"TX"),r.a.createElement("option",{value:"UT"},"UT"),r.a.createElement("option",{value:"VT"},"VT"),r.a.createElement("option",{value:"VA"},"VA"),r.a.createElement("option",{value:"WA"},"WA"),r.a.createElement("option",{value:"WI"},"WI"),r.a.createElement("option",{value:"WV"},"WV"),r.a.createElement("option",{value:"WY"},"WY"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"* Zip Code",name:"zip",value:w,onChange:function(e){return L(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{placeholder:"* Tell us a bit about yourself",name:"about",value:R,onChange:function(e){return L(e)}}),r.a.createElement("small",{className:"form-text"},"Your neighborhood, what you do for a living, favorite beer, etc...")),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{name:"openForRequests",value:C,onChange:function(e){return L(e)}},r.a.createElement("option",{value:"0"},"* Are you currently open for requests?"),r.a.createElement("option",{value:"true"},"Yes"),r.a.createElement("option",{value:"false"},"No")),r.a.createElement("small",{className:"form-text"},'By selecting "No" your account will still be active, but won\'t be found by others looking for help.')),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"I can help with...",name:"helpWith",value:A,onChange:function(e){return L(e)}}),r.a.createElement("small",{className:"form-text"},"Please seperate with commas (eg. grocery shopping, lawn work, repairs, masks)")),r.a.createElement("div",{className:"my-2"},r.a.createElement("button",{onClick:function(){return b(!v)},type:"button",className:"btn btn-light"},"Add Personal Website And Social Network Links"),r.a.createElement("span",null,"Optional")),v&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fas fa-globe fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"Personal Website URL",name:"personalSite",value:T,onChange:function(e){return L(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-twitter fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"Twitter URL",name:"twitter",value:P,onChange:function(e){return L(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-facebook fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"Facebook URL",name:"facebook",value:_,onChange:function(e){return L(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-youtube fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"YouTube URL",name:"youtube",value:S,onChange:function(e){return L(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-linkedin fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"Linkedin URL",name:"linkedin",value:I,onChange:function(e){return L(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-instagram fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"Instagram URL",name:"instagram",value:j,onChange:function(e){return L(e)}}))),r.a.createElement("input",{type:"submit",className:"btn btn-primary my-1"}),r.a.createElement(c.b,{className:"btn btn-light my-1",to:"/home"},"Go Back")))}))),V=function(e){var t=e.profile,a=t.user,n=a._id,l=a.firstName,o=a.avatar,s=t.city,i=t.state,u=t.zip,m=t.about,p=t.openForRequests,f=t.helpWith;return r.a.createElement("div",null,p?r.a.createElement("div",{className:"profile bg-light"},r.a.createElement("img",{src:o,alt:"",className:"round-img"}),r.a.createElement("div",null,r.a.createElement("h2",null,l),r.a.createElement("h4",null,s,", ",i," ",u," "),r.a.createElement("p",null,m),r.a.createElement(c.b,{to:"/profile/".concat(n),className:"btn btn-primary"},"View Profile")),r.a.createElement("ul",null,f.slice(0,3).map((function(e,t){return r.a.createElement("li",{key:t,className:"text-primary"},r.a.createElement("i",{className:"fas fa-check"}),e)})))):null)},H=Object(i.b)((function(e){return{profile:e.profile}}),{getProfiles:function(){return function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"CLEAR_PROFILE"}),e.prev=1,e.next=4,E.a.get("/api/profile");case 4:a=e.sent,t({type:"GET_PROFILES",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"PROFILE_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.getProfiles,a=e.profile,l=a.profiles,o=a.loading;return Object(n.useEffect)((function(){t()}),[t]),r.a.createElement(n.Fragment,null,o?r.a.createElement(D,null):r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"large text-primary"},"Iris Community of Helpers"),r.a.createElement("p",{className:"lead"},r.a.createElement("i",{className:"fas fa-hands-helping"})," Browse and connect with helpers"),r.a.createElement("div",{className:"profiles"},l.length>0?l.map((function(e){return r.a.createElement(V,{key:e._id,profile:e})})):r.a.createElement("h4",null,"No profiles found..."))))})),q=function(e){var t=e.profile,a=t.email,n=t.city,l=t.state,o=t.social,c=t.user,s=c.firstName,i=c.lastName,u=c.avatar;return r.a.createElement("div",{className:"profile-top bg-primary p-2"},r.a.createElement("img",{className:"round-img my-1",src:u,alt:""}),r.a.createElement("h1",{className:"large"},s," ",i),r.a.createElement("p",{className:"lead"},n,", "," ",l," "),r.a.createElement("div",{className:"icons my-1"},o&&o.personalSite&&r.a.createElement("a",{href:o.personalSite,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fas fa-globe fa-2x"})),o&&o.twitter&&r.a.createElement("a",{href:o.twitter,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-twitter fa-2x"})),o&&o.facebook&&r.a.createElement("a",{href:o.facebook,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-facebook fa-2x"})),o&&o.linkedin&&r.a.createElement("a",{href:o.linkedin,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-linkedin fa-2x"})),o&&o.youtube&&r.a.createElement("a",{href:o.youtube,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-youtube fa-2x"})),o&&o.instagram&&r.a.createElement("a",{href:o.instagram,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-instagram fa-2x"}))),r.a.createElement("h3",null,a))},K=function(e){var t=e.profile,a=t.about,l=t.helpWith,o=t.user.firstName;return r.a.createElement("div",{className:"profile-about bg-light p-2"},a&&r.a.createElement(n.Fragment,null,r.a.createElement("h2",{className:"text-primary"},"About ",o),r.a.createElement("p",null,a),r.a.createElement("div",{className:"line"})),r.a.createElement("h2",{className:"text-primary"},o," Can Help With: "),r.a.createElement("div",{className:"skills"},l.map((function(e,t){return r.a.createElement("div",{key:t,className:"p-1"},r.a.createElement("i",{className:"fas fa-check"}),e)}))))},z=Object(i.b)((function(e){return{profile:e.profile,auth:e.auth}}),{getProfileByID:function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.a.get("/api/profile/user/".concat(e));case 3:n=t.sent,a({type:"GET_PROFILE",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"PROFILE_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.getProfileByID,a=e.profile,l=a.profile,o=a.loading,s=e.auth,i=e.match;return Object(n.useEffect)((function(){t(i.params.id)}),[t,i.params.id]),r.a.createElement(n.Fragment,null,null===l||o?r.a.createElement(D,null):r.a.createElement(n.Fragment,null,s.isAuthenticated&&!1===s.loading&&s.user._id===l.user._id&&r.a.createElement("h1",null,"Your Profile"),r.a.createElement(c.b,{to:"/profiles",className:"btn btn-light"},"View All Profiles"),s.isAuthenticated&&!1===s.loading&&s.user._id===l.user._id&&r.a.createElement(c.b,{to:"/edit-profile",className:"btn btn-dark"},"Edit My Profile"),r.a.createElement("div",{className:"profie-grid my-1"},r.a.createElement(q,{profile:l}),r.a.createElement(K,{profile:l}))))})),B=a(23),J=a.n(B),Z=function(){return function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/posts");case 3:a=e.sent,t({type:"GET_POSTS",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"POST_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},X=function(e){var t=e.addLike,a=e.removeLike,l=e.deletePost,o=e.auth,s=e.post,i=s._id,u=s.firstName,m=s.lastName,p=s.text,f=s.avatar,E=s.user,d=s.likes,h=s.comments,v=s.date,b=e.showActions;return r.a.createElement("div",{className:"post bg-white p-1 my-1"},r.a.createElement("div",null,r.a.createElement(c.b,{to:"/profile/".concat(E)},r.a.createElement("img",{className:"round-img",src:f,alt:""}),r.a.createElement("h4",null,u," ",m))),r.a.createElement("div",null,r.a.createElement("p",{className:"my-1"},p),r.a.createElement("p",{className:"post-date"},"Posted on ",r.a.createElement(J.a,{format:"YYYY-MM-DD"},v)),b&&r.a.createElement(n.Fragment,null,r.a.createElement("button",{onClick:function(e){return t(i)},type:"button",className:"btn btn-light"},r.a.createElement("i",{className:"fas fa-thumbs-up"})," ",r.a.createElement("span",null," ",d.length>0&&r.a.createElement("span",null,d.length))),r.a.createElement("button",{onClick:function(e){return a(i)},type:"button",className:"btn btn-light"},r.a.createElement("i",{className:"fas fa-thumbs-down"})),r.a.createElement(c.b,{to:"/posts/".concat(i),className:"btn btn-primary"},"Comments ",r.a.createElement("span",{className:"comment-count"},h.length)),!o.loading&&E===o.user._id&&r.a.createElement("button",{onClick:function(e){return l(i)},type:"button",className:"btn btn-danger"},r.a.createElement("i",{className:"fas fa-times"})," Delete Post"))))};X.defaultProps={showActions:!0};var Q=Object(i.b)((function(e){return{auth:e.auth}}),{addLike:function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.a.put("/api/posts/like/".concat(e));case 3:n=t.sent,a({type:"UPDATE_LIKES",payload:{postID:e,likes:n.data}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"POST_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},removeLike:function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.a.put("/api/posts/unlike/".concat(e));case 3:n=t.sent,a({type:"UPDATE_LIKES",payload:{postID:e,likes:n.data}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"POST_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},deletePost:function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.a.delete("/api/posts/".concat(e));case 3:t.sent,a({type:"DELETE_POST",payload:e}),a(v("Post Removed","success")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"POST_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})(X),$=Object(i.b)(null,{addPost:function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a){var n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,E.a.post("/api/posts/",e,n);case 4:r=t.sent,a({type:"ADD_POST",payload:r.data}),a(v("Post Created","success")),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:"POST_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.addPost,a=Object(n.useState)(""),l=Object(k.a)(a,2),o=l[0],c=l[1];return r.a.createElement("div",{class:"post-form"},r.a.createElement("div",{class:"bg-primary p"},r.a.createElement("h3",null,"Say something to the community- here you can ask others for help.")),r.a.createElement("form",{class:"form my-1",onSubmit:function(e){e.preventDefault(),t({text:o}),c("")}},r.a.createElement("textarea",{name:"text",cols:"30",rows:"5",placeholder:"Create a post",value:o,onChange:function(e){return c(e.target.value)},required:!0}),r.a.createElement("input",{type:"submit",class:"btn btn-dark my-1",value:"Submit"})))})),ee=Object(i.b)((function(e){return{post:e.post,auth:e.auth}}),{getPosts:Z})((function(e){var t=e.getPosts,a=e.post,l=a.posts,o=a.loading;e.auth.user;return Object(n.useEffect)((function(){t()}),[t]),o?r.a.createElement(D,null):r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"large text-primary"},"Iris Community Posts"),r.a.createElement("p",{className:"lead"},r.a.createElement("i",{className:"fas fa-comment"})," Welcome to the forum"),r.a.createElement($,null),r.a.createElement("div",{className:"posts"},l.map((function(e){return r.a.createElement(Q,{key:e._id,post:e})}))))})),te=Object(i.b)((function(e){return{post:e.post,auth:e.auth}}),{getPosts:Z})((function(e){var t=e.getPosts,a=e.post,l=a.posts,o=a.loading,c=e.auth.user;return Object(n.useEffect)((function(){t()}),[t]),o?r.a.createElement(D,null):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"posts"},r.a.createElement("h1",{className:"large text-primary"},"Posts that you've submitted"),c&&l.filter((function(e){return e.user===c._id})).map((function(e){return r.a.createElement(Q,{key:e._id,post:e})})),!l.some((function(e){return e.user===c._id}))&&r.a.createElement("div",{className:"posts"},r.a.createElement("p",{className:"lead"},"No posts found. Submit your first one below!"),r.a.createElement($,null))))})),ae=Object(i.b)(null,{addComment:function(e,t){return function(){var a=Object(p.a)(m.a.mark((function a(n){var r,l;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{"Content-Type":"application/json"}},a.prev=1,a.next=4,E.a.post("/api/posts/comment/".concat(e),t,r);case 4:l=a.sent,n({type:"ADD_COMMENT",payload:l.data}),n(v("Comment Added!","success")),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),n({type:"POST_ERROR",payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.postID,a=e.addComment,l=Object(n.useState)(""),o=Object(k.a)(l,2),c=o[0],s=o[1];return r.a.createElement("div",{class:"post-form"},r.a.createElement("div",{class:"bg-primary p"},r.a.createElement("h3",null,"Say something kind...")),r.a.createElement("form",{class:"form my-1",onSubmit:function(e){e.preventDefault(),a(t,{text:c}),s("")}},r.a.createElement("textarea",{name:"text",cols:"30",rows:"5",placeholder:"Comment on this post",value:c,onChange:function(e){return s(e.target.value)},required:!0}),r.a.createElement("input",{type:"submit",class:"btn btn-dark my-1",value:"Submit"})))})),ne=Object(i.b)((function(e){return{auth:e.auth}}),{deleteComment:function(e,t){return function(){var a=Object(p.a)(m.a.mark((function a(n){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,E.a.delete("/api/posts/comment/".concat(e,"/").concat(t));case 3:a.sent,n({type:"REMOVE_COMMENT",payload:t}),n(v("Comment Removed!","success")),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:"POST_ERROR",payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.postID,a=e.comment,n=a._id,l=a.text,o=a.firstName,s=a.lastName,i=a.avatar,u=a.user,m=a.date,p=e.auth,f=e.deleteComment;return r.a.createElement("div",{class:"post bg-white p-1 my-1"},r.a.createElement("div",null,r.a.createElement(c.b,{to:"/profile/".concat(u)},r.a.createElement("img",{class:"round-img",src:i,alt:""}),r.a.createElement("h4",null,o," ",s))),r.a.createElement("div",null,r.a.createElement("p",{class:"my-1"},l),r.a.createElement("p",{class:"post-date"},"Posted on ",r.a.createElement(J.a,{format:"YYYY-MM-DD"},m)),!p.loading&&u===p.user._id&&r.a.createElement("button",{onClick:function(e){return f(t,n)},type:"button",className:"btn btn-danger"},r.a.createElement("i",{className:"fas fa-times"}))))})),re=Object(i.b)((function(e){return{post:e.post}}),{getPost:function(e){return function(){var t=Object(p.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.a.get("/api/posts/".concat(e));case 3:n=t.sent,a({type:"GET_POST",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"POST_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.getPost,a=e.post,l=a.post,o=a.loading,s=e.match;return Object(n.useEffect)((function(){t(s.params.id)}),[t]),o||null===l?r.a.createElement(D,null):r.a.createElement(n.Fragment,null,r.a.createElement(c.b,{to:"/posts",className:"btn"},"Back to Posts"),r.a.createElement(Q,{post:l,showActions:!1}),r.a.createElement(ae,{postID:l._id}),r.a.createElement("div",{className:"comments"},l.comments.map((function(e){return r.a.createElement(ne,{key:e._id,comment:e,postID:l._id})}))))})),le=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"x-large text-primary"},r.a.createElement("i",{className:"fas fa-exclamation-triangle"}),"Page Not Found"),r.a.createElement("p",{className:"large"}," \xaf\\_(\u30c4)_/\xaf nothing to see here..."))},oe=a(48),ce=Object(i.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=a.isAuthenticated,l=a.loading,o=Object(oe.a)(e,["component","auth"]);return r.a.createElement(s.b,Object.assign({},o,{render:function(e){return n||l?r.a.createElement(t,e):r.a.createElement(s.a,{to:"/login"})}}))})),se=function(){return r.a.createElement("section",{className:"container"},r.a.createElement(T,null),r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/register",component:A}),r.a.createElement(s.b,{exact:!0,path:"/login",component:S}),r.a.createElement(s.b,{exact:!0,path:"/about",component:I}),r.a.createElement(s.b,{exact:!0,path:"/profiles",component:H}),r.a.createElement(s.b,{exact:!0,path:"/profile/:id",component:z}),r.a.createElement(ce,{exact:!0,path:"/home",component:Y}),r.a.createElement(ce,{exact:!0,path:"/create-profile",component:U}),r.a.createElement(ce,{exact:!0,path:"/edit-profile",component:G}),r.a.createElement(ce,{exact:!0,path:"/posts",component:ee}),r.a.createElement(ce,{exact:!0,path:"/posts/:id",component:re}),r.a.createElement(ce,{exact:!0,path:"/my-posts",component:te}),r.a.createElement(s.b,{component:le})))},ie=a(16),ue=a(46),me=a(47),pe=a(24),fe=[],Ee={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null},de={profile:null,profiles:[],loading:!0,error:{}},he={posts:[],post:null,loading:!0,error:{}},ve=Object(ie.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_ALERT":return[].concat(Object(pe.a)(e),[n]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==n}));default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"USER_LOADED":return Object(x.a)({},e,{isAuthenticated:!0,loading:!1,user:n});case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":return localStorage.setItem("token",n.token),Object(x.a)({},e,{},n,{isAuthenticated:!0,loading:!1});case"REGISTER_FAIL":case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT":case"ACCOUNT_DELETED":return localStorage.removeItem("token"),Object(x.a)({},e,{token:null,isAuthenticated:!1,loading:!1});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_PROFILE":return Object(x.a)({},e,{profile:n,loading:!1});case"GET_PROFILES":return Object(x.a)({},e,{profiles:n,loading:!1});case"PROFILE_ERROR":return Object(x.a)({},e,{error:n,loading:!1,profile:null});case"CLEAR_PROFILE":return Object(x.a)({},e,{profile:null});default:return e}},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_POSTS":return Object(x.a)({},e,{posts:n,loading:!1});case"GET_POST":return Object(x.a)({},e,{post:n,loading:!1});case"ADD_POST":return Object(x.a)({},e,{posts:[n].concat(Object(pe.a)(e.posts)),loading:!1});case"DELETE_POST":return Object(x.a)({},e,{posts:e.posts.filter((function(e){return e._id!==n})),loading:!1});case"POST_ERROR":return Object(x.a)({},e,{error:n,loading:!1});case"UPDATE_LIKES":return Object(x.a)({},e,{posts:e.posts.map((function(e){return e._id===n.postID?Object(x.a)({},e,{likes:n.likes}):e})),loading:!1});case"ADD_COMMENT":return Object(x.a)({},e,{post:Object(x.a)({},e.post,{comments:n}),loading:!1});case"REMOVE_COMMENT":return Object(x.a)({},e,{post:Object(x.a)({},e.post,{comments:e.post.comments.filter((function(e){return e._id!==n}))}),loading:!1});default:return e}}}),be=[me.a],ge=Object(ie.createStore)(ve,{},Object(ue.composeWithDevTools)(ie.applyMiddleware.apply(void 0,be)));localStorage.token&&b(localStorage.token);var ye=function(){return Object(n.useEffect)((function(){ge.dispatch(g())}),[]),r.a.createElement(i.a,{store:ge},r.a.createElement(c.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(y,null),r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",component:N}),r.a.createElement(s.b,{component:se})))))};o.a.render(r.a.createElement(ye,null),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.37d9a869.chunk.js.map